(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const l="a1078278c70be949e15364ecfc53d10e",p=document.querySelector("#current-temp"),s=document.querySelector("#weather-img-wrapper"),f=document.querySelector("#weather-desc"),m=document.querySelector("#recommendation-text"),i=document.querySelector("#forecast");document.addEventListener("DOMContentLoaded",()=>{h()});function h(){navigator.geolocation?navigator.geolocation.getCurrentPosition(o=>{const e=o.coords.latitude,r=o.coords.longitude;console.log(e,r);const c=g(e,r),t=w(e,r);y(c),b(t)}):alert("Geolocation is not supported by this browser.")}function g(o,e){return`https://api.openweathermap.org/data/2.5/weather?lat=${o}&lon=${e}&appid=${l}&units=imperial`}function w(o,e){return`https://api.openweathermap.org/data/2.5/forecast?lat=${o}&lon=${e}&appid=${l}&units=imperial`}async function y(o){try{const e=await fetch(o);if(e.ok){const r=await e.json();console.log(r),D(r),E(r.main.temp)}else throw new Error("Error fetching weather data.")}catch(e){console.log(e)}}async function b(o){try{const e=await fetch(o);if(e.ok){const r=await e.json();console.log(r),L(r)}else throw new Error("Error fetching forecast data.")}catch(e){console.log(e)}}function D(o){const e=o.main.temp.toFixed(0),r=o.weather[0].description,c=`https://openweathermap.org/img/w/${o.weather[0].icon}.png`;p.textContent=`${e}°F`,s.innerHTML="";const t=document.createElement("img");t.setAttribute("src",c),t.setAttribute("alt",r),s.appendChild(t),f.textContent=r}function L(o){i.innerHTML="";const e={};o.list.forEach(c=>{const t=new Date(c.dt_txt).toDateString();e[t]||(e[t]=[]),e[t].push(c.main.temp)}),Object.keys(e).slice(0,5).forEach(c=>{const t=e[c],n=(t.reduce((d,u)=>d+u,0)/t.length).toFixed(0),a=document.createElement("div");a.className="individual-day-wrapper",a.innerHTML=`<p>Date: ${c}</p><p>Avg Temp: ${n}°F</p>`,i.appendChild(a)})}function E(o){let e="";o<32?e="Dress warmly, it’s cold outside.":o>=32&&o<60?e="It's a bit chilly, consider wearing a jacket.":o>=60&&o<80?e="The weather is nice, dress comfortably.":e="It’s warm, don't forget sunscreen!",m.textContent=e}
